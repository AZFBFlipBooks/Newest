<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
<meta name="viewport" content="width = 1050, user-scalable = no" />
<script type="text/javascript" src="../../extras/jquery.min.1.7.js"></script>
<script type="text/javascript" src="../../extras/modernizr.2.5.3.min.js"></script>
</head>
<body>
	<div class="zoom-controls">
		<label for="zoom-slider">Zoom:</label>
		<input type="range" id="zoom-slider" min="1" max="3" step="0.1" value="1">
	</div>
	<div id="pannable-content">
<div class="flipbook-viewport">
	<div class="container">
		<div class="flipbook">
			<img src="https://i.ibb.co/cYmQwS0/Link.png" alt="Link" border="0">
			<div style="background-image:url(pages/2.jpg)"></div>
			<div style="background-image:url(pages/3.jpg)"></div>
			<div style="background-image:url(pages/4.jpg)"></div>
			<div style="background-image:url(pages/5.jpg)"></div>
			<div style="background-image:url(pages/6.jpg)"></div>
			<div style="background-image:url(pages/7.jpg)"></div>
			<div style="background-image:url(pages/8.jpg)"></div>
			<div style="background-image:url(pages/9.jpg)"></div>
			<div style="background-image:url(pages/10.jpg)"></div>
			<div style="background-image:url(pages/11.jpg)"></div>
			<div style="background-image:url(pages/12.jpg)"></div>
		</div>
	</div>
</div>
</div>


<script type="text/javascript">
	$('img').on('dragstart', function(event) {
    event.preventDefault();
});

$(document).ready(function() {
    var isPanning = false,
        startCoords = {},
        transformMatrix;

    function loadApp() {
        $('.flipbook').turn({
            width: 922,
            height: 600,
            elevation: 50,
            gradients: true,
            autoCenter: true
        });
    }

    yepnope({
        test: Modernizr.csstransforms,
        yep: ['../../lib/turn.js'],
        nope: ['../../lib/turn.html4.min.js'],
        both: ['css/basic.css'],
        complete: loadApp
    });

    $('#zoom-slider').on('input change', function() {
        var zoomLevel = $(this).val();
        $('.flipbook').css({
            transform: 'scale(' + zoomLevel + ')',
            transformOrigin: 'center center'
        });
    });

    $('#pannable-content').on('mousedown touchstart', function(e) {
        isPanning = true;
        var event = e.type === 'touchstart' ? e.originalEvent.touches[0] : e;
        startCoords = {
            x: event.pageX,
            y: event.pageY
        };
        transformMatrix = parseTransform($('.flipbook').css('transform'));
    });

    $(window).on('mousemove touchmove', function(e) {
        if (isPanning) {
            var event = e.type === 'touchmove' ? e.originalEvent.touches[0] : e;
            var deltaX = event.pageX - startCoords.x;
            var deltaY = event.pageY - startCoords.y;

            $('.flipbook').css('transform', 'translate(' + (transformMatrix.x + deltaX) + 'px, ' + (transformMatrix.y + deltaY) + 'px) scale(' + ($('#zoom-slider').val()) + ')');
        }
    });

    $(window).on('mouseup touchend', function(e) {
        isPanning = false;
    });

    function parseTransform(transformString) {
        var matrix = transformString.match(/matrix\(([^)]+)\)/);
        if (matrix) {
            var values = matrix[1].split(',');
            return {
                x: parseFloat(values[4].trim()),
                y: parseFloat(values[5].trim())
            };
        }
        return {x: 0, y: 0}; // Default to no translation if no transform is found
    }
});
</script>


</script>

</body>
</html>